<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Class Operations</title>

    <style>
        .box1 {
            width: 300px;
            height: 300px;
            background-color: skyblue;
        }
        .box2 {
            width: 400px;
            height: 400px;
            background-color: red;
        }
    </style>
</head>
<body>

<button id="btn">click me</button>
<div id="box" class="box1"></div>

<script>
    
    window.onload = function () {
        // 1. 获取标签
        var btn = document.getElementById('btn');
        var box = document.getElementById('box');

        // 2. 监听点击
        btn.addEventListener('click', function () {
            // box.style.width = '400px';
            // box.style.height = '400px';
            // box.style.backgroundColor = 'red';

            // 这样逐个修改样式属性的方法性能不好

        // 3. 一行修改多个样式
        //     box.className += ' box2';   // 但这样还是有行为和样式耦合的缺点，需要抽成函数

            function addClass(obj, cls) {   // 添加样式类
                if(!hasClass(obj, cls)){
                    obj.className += ' ' + cls;
                }
            }

            function hasClass(obj, cls) {   // 用正则表达式，\\b（空格）匹配单词边界，判断是否有cls字符串；
                var reg = new RegExp('\\b' + cls + '\\b');
                return reg.test(obj.className);
            }

            function removeClass(obj, cls) {    // 删除类
                var reg = new RegExp('\\b' + cls + '\\b');
                obj.className = obj.className.replace(reg, '');     // 把"classname" 替换成空字符，实现删除效果；
            }

            function toggleClass(obj, cls) {    // 切换样式类
                if(hasClass(obj, cls)){
                    removeClass(obj, cls);
                } else {
                    addClass(obj, cls);
                }
            }
        });

    }
</script>
</body>
</html>