# 正则表达式

###### 基本知识

* 是什么：用来操作字符串的一种逻辑公式；
* 作用：
  * **查找** 字符串中是否包含指定子串；
  * **提取** 字符串中的指定子串；
  * **替换** 字符串中的指定内容； 



###### 应用场景

字符串自带的**查找**方法：`indexOf(), lastIndexOf(), search(), includes()`

```js
let str = "123abc456";

let index1 = str.indexOf("abc");
let index2 = str.lastIndexOf("abc");
let index3 = str.search('abc');
let flag = str.includes("abc");

```

字符串自带的**提取**方法：`substr()`

```js
let str = "123abc456";
let startIndex = str.indexOf("a");
let substr1 = str.substr(startIndex, "abc".length);
```

字符串自带的**替代**方法：`replace()`

```js
let str = "123abc456";
str.replace("abc", "789");
```

**以上三种操作均可使用正则表达式来实现；**



###### 查找字符串示例：

```js
let str = '123abc456';

// 1. 创建正则表达式对象
// 2. 指定匹配规则 'a'，默认区分大小写
let re1 = new RegExp('a');

// 3. 调用 test() 方法做匹配
console.log(re1.test(str));  // true

// 正则表达式还可接收第二个参数；'i' 表示不区分大小写
let re2 = new RegExp('A', 'i');
console.log(re2.test(str)); // true
```



语法及使用参考：[W3School](http://www.w3school.com.cn/js/js_regexp.asp)



###### 两种创建正则表达式的方式

* 通过构造函数

  ```js
  let re = new RegExp("\\d{4}-\\d{1,2}-\\d{1,2}");
  ```

* 通过字面量

  ```js
  let re = /\d{4}-\d{1,2}-\d{1,2}/;
  ```

  



###### 提取字符串示例 ：`str.match()`

```js
let str = 'abc2020-03-22def';
let re1 = /\d{4}-\d{1,2}-\{1,2}/;	// 默认找到第一个后就停止查找
let re2 = /\d{4}-\d{1,2}-\{1,2}/g;  // 全局查找需要加上 /g
let res1 = str.match(re1);	// 返回伪数组
let res2 = str.match(re2);	// 全局找

```



###### 替换字符串示例 ：`str.replace()`

```js
let str = 'abc2020-03-22def';
let re1 = /\d{4}-\d{1,2}-\{1,2}/g;  
let str1 = str.replace(re1, '2019-02-03'); // 'abc2019-02-03def'
```





###### 常用正则表达式

```text
常用正则表达式合集:
验证数字：^[0-9]*$
验证n位的数字：^\d{n}$
验证至少n位数字：^\d{n,}$
验证m-n位的数字：^\d{m,n}$
验证零和非零开头的数字：^(0|[1-9][0-9]*)$
验证有两位小数的正实数：^[0-9]+(.[0-9]{2})?$
验证有1-3位小数的正实数：^[0-9]+(.[0-9]{1,3})?$
验证非零的正整数：^\+?[1-9][0-9]*$
验证非零的负整数：^\-[1-9][0-9]*$
验证非负整数（正整数 + 0）  ^\d+$
验证非正整数（负整数 + 0）  ^((-\d+)|(0+))$
验证长度为3的字符：^.{3}$
验证由26个英文字母组成的字符串：^[A-Za-z]+$
验证由26个大写英文字母组成的字符串：^[A-Z]+$
验证由26个小写英文字母组成的字符串：^[a-z]+$
验证由数字和26个英文字母组成的字符串：^[A-Za-z0-9]+$
验证由数字、26个英文字母或者下划线组成的字符串：^\w+$
验证用户密码:^[a-zA-Z]\w{5,17}$ 正确格式为：以字母开头，长度在6-18之间，只能包含字符、数字和下划线
验证是否含有 ^%&',;=?$\" 等字符：[^%&',;=?$\x22]+
验证汉字：^[\u4e00-\u9fa5],{0,}$
验证Email地址：^\w+[-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$
验证InternetURL：^http://([\w-]+\.)+[\w-]+(/[\w-./?%&=]*)?$ ；^[a-zA-z]+://(w+(-w+)*)(.(w+(-w+)*))*(?S*)?$
验证电话号码：^(\d3,4|\d{3,4}-)?\d{7,8}$：--正确格式为：XXXX-XXXXXXX，XXXX-XXXXXXXX，XXX-XXXXXXX，XXX-XXXXXXXX，XXXXXXX，XXXXXXXX
验证身份证号（15位或18位数字）：^\d{15}|\d{}18$
验证一年的12个月：^(0?[1-9]|1[0-2])$ 正确格式为：“01”-“09”和“1”“12”
验证一个月的31天：^((0?[1-9])|((1|2)[0-9])|30|31)$    正确格式为：01、09和1、31
整数：^-?\d+$
非负浮点数（正浮点数 + 0）：^\d+(\.\d+)?$
正浮点数：^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$
非正浮点数（负浮点数 + 0）：^((-\d+(\.\d+)?)|(0+(\.0+)?))$
负浮点数：^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$
浮点数：^(-?\d+)(\.\d+)?$
```

