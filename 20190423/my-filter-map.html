<script>

Array.prototype.myFilter = function (fn) {
  let result = [];
  for (let idx = 0; idx < this.length; idx ++) {
    if (fn(this[idx], idx, this)) {
      result.push(this[idx]);
    }
  }
  return result;
}

Array.prototype.myMap = function (fn) {
  let result = new Array(this.length);
  for (let idx = 0; idx < this.length; idx ++) {
    result[idx] = fn(this[idx], idx, this);
  }
  return result;
}

let arr1 = [11,22,33,44,55,66,77,88];
let arr2 = arr1.myFilter(function (elm, idx, arr) {
  if (elm % 2 === 0) {
    return true;
  }
})
console.log(arr2);


let arr3 = arr1.myMap(function (elm, idx, arr) {
  if (elm % 2 === 0) {
    return elm;
  }
})

console.log(arr3);


/********************/

  var array1 = [1, 4, 9, 16];
  // pass a function to map
  const map1 = array1.myMap(x => x * 2);
  console.log(map1);
  // expected output: Array [2, 8, 18, 32]
  
  

/********************/


var kvArray = [{key: 1, value: 10}, 
               {key: 2, value: 20}, 
               {key: 3, value: 30}];

var reformattedArray = kvArray.myMap(obj =>{ 
   var rObj = {};
   rObj[obj.key] = obj.value;
   return rObj;
});

console.log(reformattedArray);

// reformattedArray is now [{1: 10}, {2: 20}, {3: 30}], 

// kvArray is still: 
// [{key: 1, value: 10}, 
//  {key: 2, value: 20}, 
//  {key: 3, value: 30}]



</script>