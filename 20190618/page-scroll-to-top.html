<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>页面返回顶部 - 带缓动动画</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            color: white;
            font-family: 'Courier New', Courier, monospace;
            font-size: 24px;
            text-align: center;
        }
        .banner {
            width: 1000px;
            height: 100px;
            line-height: 100px;
            margin: 0 auto;
            background-color: skyblue;
        }
        .navbar {
            width: 1000px;
            height: 50px;
            line-height: 50px;
            margin: 0 auto;
            background-color: mediumseagreen;
        }
        .content {
            width: 1000px;
            height: auto;
            margin: 0 auto;
            text-align-last: left;
            background-color: turquoise;
        }
        .go-top {
            width: 50px;
            height: 55px;
            position: fixed;
            bottom: 10px;
            right: 10px;
            background-color: red;
            border-radius: 45px 45px 0 0;
            display: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="banner">BANNER</div>
    <div class="navbar">Navigation Bar</div>
    <div class="content">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias, recusandae magni maiores facere vero distinctio veniam dolorem libero earum omnis repellendus suscipit quod natus, doloremque id similique sequi, magnam fugit?</p>
    </div>
    <span class="go-top">go top</span>

    <script>
        let bannerEl = document.querySelector('.banner');
        let navbarEl = document.querySelector('.navbar');
        let go2TopEl = document.querySelector('.go-top');
        let timerId = null;

        let bannerHeight = bannerEl.offsetHeight;
        

        window.onscroll = function () {
            if (pageYOffset >= bannerHeight) {
                navbarEl.style.position = 'fixed';
                navbarEl.style.left = bannerEl.offsetLeft + 'px';
                navbarEl.style.top = 0;
            } else {
                navbarEl.style.position = 'static';
            }

            if (scrollY > 300) {
                go2TopEl.style.display = 'inline-block';
            } else {
                go2TopEl.style.display = 'none';
            }
        };

        go2TopEl.onclick = function () {
            clearInterval(timerId);
            timerId = setInterval(() => {
                let orig = scrollY; // origin point of scroll
                let dest = 0; // destination point of scroll
                let step = (dest - orig) * 0.3; // 0.3 is ease scroll factor
                console.log(orig, step);
                orig = orig + step; // origin point changes at each loop
                if (Math.abs(Math.floor(step)) <= 1) {
                    clearInterval(timerId);
                    window.scrollTo(0, 0);
                    return;
                }
                window.scrollTo(0, orig);
            }, 50);
        };

    </script>
</body>
</html>