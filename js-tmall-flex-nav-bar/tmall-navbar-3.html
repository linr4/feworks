<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>天猫弹性导航条 练习 - 第3遍</title>

    <style>

        body, span, ul, li {
            margin: 0;
            padding: 0;
        }

        body {
            background-color: lightpink;
        }

        #nav {
            width: 900px;
            height: 63px;
            background: white url("images/doubleEleven.png") right center no-repeat;
            border-radius: 10px;
            margin: 100px auto;

            position: relative;
        }

        #logo {
            width: 88px;
            height: 63px;
            background: url("images/tMall.png") no-repeat;

            position: absolute;
        }

        ul {
            list-style: none;
            position: relative;
        }

        ul li {
            width: 88px;
            height: 63px;
            line-height: 70px;
            text-align: center;
            cursor: pointer;
            float: left;
        }

    </style>

</head>
<body>

<nav id="nav">
    <span id="logo"></span>
    <ul>
        <li>双11狂欢</li>
        <li>服装会场</li>
        <li>数码家电</li>
        <li>家具建材</li>
        <li>母婴童装</li>
        <li>手机会场</li>
        <li>美妆会场</li>
        <li>进口会场</li>
        <li>飞猪旅行</li>
    </ul>
</nav>


<script>

    window.addEventListener('load', function () {

        // 获取所需ID：
       var nav = document.getElementById('nav');
       var logo = nav.children[0];
       var ul = nav.children[1];
       var allLis = ul.children;
       var logoDefaultPosX = 0; // logo 默认位置；
       var logoMoveToPosX = 0;  // logo “移动到” 位置；
       var logoMoveStep = 0;    // logo 以缓动动画的方式移动时的步进值；

       // 通过for循环，让所有li监听鼠标 enter/out/click 事件：
       for (var i = 0; i < allLis.length; i ++) {
           var li = allLis[i];

           li.addEventListener('mouseenter', function () {
              logoMoveToPosX = this.offsetLeft;     // 鼠标进入时，设置logo移动到当前li的位置；
           });

           li.addEventListener('mouseout', function () {
               logoMoveToPosX = logoDefaultPosX;    // 鼠标离开时，设置logo移回进入之前的默认位置；
           });

           li.addEventListener('click', function () {
               logoDefaultPosX = this.offsetLeft;   // 鼠标点击li之后，重置logo默认位置为当前li的位置；
           });
       }

       // 通过setInterval()轮询和响应鼠标事件：

        setInterval(function () {
            logoMoveStep += (logoMoveToPosX - logoMoveStep) * 0.2;  // 计算缓动动画的步进值，由大到小（几何级数）递增；
            logo.style.left = logoMoveStep + 'px'; // 移动logo位置；
        },10);
       
    });

</script>
</body>
</html>